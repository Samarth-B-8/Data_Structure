#include <stdio.h> 
#include <stdlib.h> 
 
int *a; 
int n; 
 
/* Function declarations */ 
void insertByOrder(); 
void deleteByPosition(); 
void searchByKey(); 
void reverseArray(); 
void display(); 
 
int main() 
{ 
    int choice; 
 
    printf("Enter number of elements: "); 
    scanf("%d", &n); 
 
    a = (int *)malloc(n * sizeof(int)); 
 
    if (a == NULL) 
    { 
        printf("Memory allocation failed\n"); 
        return 0; 
    } 
 
    printf("Enter %d elements in sorted order:\n", n); 
    for (int i = 0; i < n; i++) 
        scanf("%d", &a[i]); 
 
    printf("\n---- MENU ----\n"); 
    printf("1. Insert by Order\n"); 
    printf("2. Delete by Position\n"); 
    printf("3. Search by Key\n"); 
    printf("4. Reverse Array\n"); 
    printf("5. Exit\n"); 
 
    while (1) 
    { 
        printf("\nEnter your choice: "); 
        scanf("%d", &choice); 
 
        switch (choice) 
        { 
        case 1: 
            insertByOrder(); 
            display(); 
            break; 
 
        case 2: 
            deleteByPosition(); 
            display(); 
            break; 
 
        case 3: 
            searchByKey(); 
            break; 
 
        case 4: 
            reverseArray(); 
            display(); 
            break; 
 
        case 5: 
            free(a); 
            exit(0); 
 
        default: 
            printf("Invalid choice\n"); 
        } 
    } 
} 
 
/* Insert element in sorted order */ 
void insertByOrder() 
{ 
    int ele, i; 
    int *temp; 
 
    printf("Enter element to insert: "); 
    scanf("%d", &ele); 
 
    temp = (int *)malloc((n + 1) * sizeof(int)); 
 
    for (i = 0; i < n && a[i] < ele; i++) 
        temp[i] = a[i]; 
 
    temp[i] = ele; 
 
    for (int j = i; j < n; j++) 
        temp[j + 1] = a[j]; 
 
    free(a); 
    a = temp; 
    n++; 
} 
 
/* Delete element by position */ 
void deleteByPosition() 
{ 
    int pos; 
 
    printf("Enter position to delete: "); 
    scanf("%d", &pos); 
 
    if (pos < 1 || pos > n) 
    { 
        printf("Invalid position\n"); 
        return; 
    } 
 
    for (int i = pos - 1; i < n - 1; i++) 
        a[i] = a[i + 1]; 
 
    n--; 
} 
 
/* Search element by key */ 
void searchByKey() 
{ 
    int key, found = 0; 
 
    printf("Enter key to search: "); 
    scanf("%d", &key); 
 
    for (int i = 0; i < n; i++) 
    { 
        if (a[i] == key) 
        { 
            printf("Key found at position %d\n", i + 1); 
            found = 1; 
            break; 
        } 
    } 
 
    if (!found) 
        printf("Key not found\n"); 
} 
 
/* Reverse array */ 
void reverseArray() 
{ 
    int temp; 
    for (int i = 0; i < n / 2; i++) 
    { 
        temp = a[i]; 
        a[i] = a[n - i - 1]; 
        a[n - i - 1] = temp; 
    } 
} 
 
/* Display array */ 
void display() 
{ 
    printf("Array elements:\n"); 
    for (int i = 0; i < n; i++) 
        printf("%d ", a[i]); 
    printf("\n"); 
}
